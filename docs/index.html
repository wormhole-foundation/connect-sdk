<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Connect SDK - v0.1.7</title><meta name="description" content="Documentation for Connect SDK"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="tsd-search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Connect SDK - v0.1.7</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<h2>Connect SDK - v0.1.7</h2></div>
<div class="tsd-panel tsd-typography"><a id="md:connect-sdk" class="tsd-anchor"></a><h1><a href="#md:connect-sdk">Connect SDK</a></h1><p>The Connect SDK is a TypeScript SDK for interacting with the chains Wormhole supports and the <a href="#protocols">protocols</a> built on top of Wormhole. </p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><p>Install the primary package</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@wormhole-foundation/connect-sdk</span>
</code><button>Copy</button></pre>
<p>As well as any other platforms you wish to use</p>
<pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@wormhole-foundation/connect-sdk-evm</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@wormhole-foundation/connect-sdk-solana</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@wormhole-foundation/connect-sdk-cosmwasm</span>
</code><button>Copy</button></pre>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><p>A developer would use the core connect-sdk package in conjunction with 1 or more of the chain context packages. Most developers don&#39;t use every single chain and may only use a couple, this allows developers to import only the dependencies they actually need.</p>
<p>Getting started is simple, just import and pass in the <a href="#platforms">Platform</a> modules you wish to support as an argument to the Wormhole class.</p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Wormhole</span><span class="hl-1">, </span><span class="hl-4">Signer</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@wormhole-foundation/connect-sdk&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">EvmContext</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@wormhole-foundation/connect-sdk-evm&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">SolanaContext</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@wormhole-foundation/connect-sdk-solana&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">network</span><span class="hl-1"> = </span><span class="hl-2">&quot;Mainnet&quot;</span><span class="hl-1">; </span><span class="hl-7">// Or &quot;Testnet&quot;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">wh</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">Wormhole</span><span class="hl-1">(</span><span class="hl-4">network</span><span class="hl-1">, [</span><span class="hl-4">EvmContext</span><span class="hl-1">, </span><span class="hl-4">SolanaContext</span><span class="hl-1">]);</span><br/><br/><span class="hl-7">// Get a ChainContext object for a specific chain </span><br/><span class="hl-7">// Useful to do things like get the rpc client, make Protocol clients, </span><br/><span class="hl-7">// look up configuration parameters or  even parse addresses </span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">srcChain</span><span class="hl-1"> = </span><span class="hl-4">wh</span><span class="hl-1">.</span><span class="hl-0">getChain</span><span class="hl-1">(</span><span class="hl-2">&#39;Ethereum&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">srcChain</span><span class="hl-1">.</span><span class="hl-0">parseAddress</span><span class="hl-1">(</span><span class="hl-2">&quot;0xdeadbeef...&quot;</span><span class="hl-1">) </span><span class="hl-7">// =&gt; NativeAddress&lt;&#39;Evm&#39;&gt;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">srcChain</span><span class="hl-1">.</span><span class="hl-0">getTokenBridge</span><span class="hl-1">() </span><span class="hl-7">// =&gt; TokenBridge&lt;&#39;Evm&#39;&gt;</span><br/><span class="hl-4">srcChain</span><span class="hl-1">.</span><span class="hl-0">getRpcClient</span><span class="hl-1">() </span><span class="hl-7">// =&gt; RpcClient&lt;&#39;Evm&#39;&gt;</span>
</code><button>Copy</button></pre>
<a id="md:wormhole-transfer" class="tsd-anchor"></a><h3><a href="#md:wormhole-transfer">Wormhole Transfer</a></h3><p>While using the <a href="#chain-context">ChainContext</a> and <a href="#protocols">Protocol</a> clients directly is possible, to do things like transfer tokens, the SDK provides some helpful abstractions.</p>
<p>The <code>WormholeTransfer</code> interface provides a convenient abstraction to encapsulate the steps involved in a cross-chain transfer.</p>
<a id="md:token-transfers" class="tsd-anchor"></a><h3><a href="#md:token-transfers">Token Transfers</a></h3><p>Performing a Token Transfer is trivial for any source and destination chains. </p>
<p>We can create a new <code>WormholeTransfer</code> object (<code>TokenTransfer</code>, <code>CCTPTransfer</code>, <code>GatewayTransfer</code>, ...) and use it to transfer tokens between chains.  The <code>WormholeTransfer</code> object is responsible for tracking the transfer through the process and providing updates on its status. </p>
<pre><code class="language-ts"><br/><span class="hl-7">// we&#39;ll send the native gas token on source chain</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">token</span><span class="hl-1"> = </span><span class="hl-2">&#39;native&#39;</span><br/><br/><span class="hl-7">// format it for base units</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">amt</span><span class="hl-1"> = </span><span class="hl-0">normalizeAmount</span><span class="hl-1">(</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-4">srcChain</span><span class="hl-1">.</span><span class="hl-4">config</span><span class="hl-1">.</span><span class="hl-4">nativeTokenDecimals</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Create a TokenTransfer object, allowing us to shepard the transfer through the process and get updates on its status</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">manualXfer</span><span class="hl-1"> = </span><span class="hl-4">wh</span><span class="hl-1">.</span><span class="hl-0">tokenTransfer</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">token</span><span class="hl-1">,            </span><span class="hl-7">// TokenId of the token to transfer or &#39;native&#39;</span><br/><span class="hl-1">  </span><span class="hl-4">amt</span><span class="hl-1">,              </span><span class="hl-7">// amount in base units</span><br/><span class="hl-1">  </span><span class="hl-4">senderAddress</span><span class="hl-1">,    </span><span class="hl-7">// Sender address on source chain</span><br/><span class="hl-1">  </span><span class="hl-4">recipientAddress</span><span class="hl-1">, </span><span class="hl-7">// Recipient address on destination chain</span><br/><span class="hl-1">  </span><span class="hl-5">false</span><span class="hl-1">,            </span><span class="hl-7">// No Automatic transfer</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-7">// 1) Submit the transactions to the source chain, passing a signer to sign any txns</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">srcTxids</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">manualXfer</span><span class="hl-1">.</span><span class="hl-0">initiateTransfer</span><span class="hl-1">(</span><span class="hl-4">src</span><span class="hl-1">.</span><span class="hl-4">signer</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// 2) Wait for the VAA to be signed and ready (not required for auto transfer)</span><br/><span class="hl-7">// Note: Depending on chain finality, this timeout may need to be increased.</span><br/><span class="hl-7">// See https://docs.wormhole.com/wormhole/reference/constants#consistency-levels for more info on specific chain finality.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">timeout</span><span class="hl-1"> = </span><span class="hl-8">60_000</span><span class="hl-1">; </span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">attestIds</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">manualXfer</span><span class="hl-1">.</span><span class="hl-0">fetchAttestation</span><span class="hl-1">(</span><span class="hl-4">timeout</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// 3) Redeem the VAA on the dest chain</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">destTxids</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">manualXfer</span><span class="hl-1">.</span><span class="hl-0">completeTransfer</span><span class="hl-1">(</span><span class="hl-4">dst</span><span class="hl-1">.</span><span class="hl-4">signer</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>Internally, this uses the <a href="#token-bridge">TokenBridge</a> protocol client to transfer tokens.  The <code>TokenBridge</code> protocol, like other Protocols, provides a consistent set of methods across all chains to generate a set of transactions for that specific chain. </p>
<p>See the example <a href="https://github.com/wormhole-foundation/connect-sdk/blob/develop/examples/src/tokenBridge.ts">here</a></p>
<a id="md:native-usdc-transfers" class="tsd-anchor"></a><h3><a href="#md:native-usdc-transfers">Native USDC Transfers</a></h3><p>We can also transfer native USDC using <a href="https://www.circle.com/en/cross-chain-transfer-protocol">Circle&#39;s CCTP</a></p>
<pre><code class="language-ts"><span class="hl-7">// OR for an native USDC transfer</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">usdcXfer</span><span class="hl-1"> = </span><span class="hl-4">wh</span><span class="hl-1">.</span><span class="hl-0">cctpTransfer</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-8">1_000_000</span><span class="hl-5">n</span><span class="hl-1">,       </span><span class="hl-7">// amount in base units (1 USDC)</span><br/><span class="hl-1">  </span><span class="hl-4">senderAddress</span><span class="hl-1">,    </span><span class="hl-7">// Sender address on source chain</span><br/><span class="hl-1">  </span><span class="hl-4">recipientAddress</span><span class="hl-1">, </span><span class="hl-7">// Recipient address on destination chain</span><br/><span class="hl-1">  </span><span class="hl-5">false</span><span class="hl-1">,            </span><span class="hl-7">// Automatic transfer</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-7">// 1) Submit the transactions to the source chain, passing a signer to sign any txns</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">srcTxids</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">usdcXfer</span><span class="hl-1">.</span><span class="hl-0">initiateTransfer</span><span class="hl-1">(</span><span class="hl-4">src</span><span class="hl-1">.</span><span class="hl-4">signer</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// 2) Wait for the Circle Attestations to be signed and ready (not required for auto transfer)</span><br/><span class="hl-7">// Note: Depending on chain finality, this timeout may need to be increased.</span><br/><span class="hl-7">// See https://developers.circle.com/stablecoin/docs/cctp-technical-reference#mainnet for more</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">timeout</span><span class="hl-1"> = </span><span class="hl-8">120_000</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">attestIds</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">usdcXfer</span><span class="hl-1">.</span><span class="hl-0">fetchAttestation</span><span class="hl-1">(</span><span class="hl-4">timeout</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// 3) Redeem the Circle Attestation on the dest chain</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">destTxids</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">usdcXfer</span><span class="hl-1">.</span><span class="hl-0">completeTransfer</span><span class="hl-1">(</span><span class="hl-4">dst</span><span class="hl-1">.</span><span class="hl-4">signer</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>See the <a href="https://github.com/wormhole-foundation/connect-sdk/blob/develop/examples/src/cctp.ts">example here</a></p>
<a id="md:automatic-transfers" class="tsd-anchor"></a><h3><a href="#md:automatic-transfers">Automatic Transfers</a></h3><p>Some transfers allow for automatic relaying to the destination, in that case only the <code>initiateTransfer</code> is required. The status of the transfer can be tracked by periodically checking the status of the transfer object.</p>
<pre><code class="language-ts"><span class="hl-7">// OR for an automatic transfer</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">automaticXfer</span><span class="hl-1"> = </span><span class="hl-4">wh</span><span class="hl-1">.</span><span class="hl-0">tokenTransfer</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;native&#39;</span><span class="hl-1">,         </span><span class="hl-7">// send native gas on source chain</span><br/><span class="hl-1">  </span><span class="hl-4">amt</span><span class="hl-1">,              </span><span class="hl-7">// amount in base units</span><br/><span class="hl-1">  </span><span class="hl-4">senderAddress</span><span class="hl-1">,    </span><span class="hl-7">// Sender address on source chain</span><br/><span class="hl-1">  </span><span class="hl-4">recipientAddress</span><span class="hl-1">, </span><span class="hl-7">// Recipient address on destination chain</span><br/><span class="hl-1">  </span><span class="hl-5">true</span><span class="hl-1">,             </span><span class="hl-7">// Automatic transfer</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-7">// 1) Submit the transactions to the source chain, passing a signer to sign any txns</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">srcTxids</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">automaticXfer</span><span class="hl-1">.</span><span class="hl-0">initiateTransfer</span><span class="hl-1">(</span><span class="hl-4">src</span><span class="hl-1">.</span><span class="hl-4">signer</span><span class="hl-1">);</span><br/><span class="hl-7">// 2) If automatic, we&#39;re done, just wait for the transfer to complete</span><br/><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">automatic</span><span class="hl-1">) </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">waitLog</span><span class="hl-1">(</span><span class="hl-4">automaticXfer</span><span class="hl-1">) ;</span>
</code><button>Copy</button></pre>
<a id="md:gateway-transfers" class="tsd-anchor"></a><h3><a href="#md:gateway-transfers">Gateway Transfers</a></h3><p>Gateway transfers are transfers that are passed through the Wormhole Gateway to or from Cosmos chains.</p>
<p>See example <a href="https://github.com/wormhole-foundation/connect-sdk/blob/develop/examples/src/cosmos.ts">here</a></p>
<a id="md:recovering-transfers" class="tsd-anchor"></a><h3><a href="#md:recovering-transfers">Recovering Transfers</a></h3><p>It may be necessary to recover a transfer that was abandoned before being completed. This can be done by instantiating the Transfer class with the <code>from</code> static method and passing one of several types of identifiers.</p>
<p>A <code>TransactionId</code> may be used</p>
<pre><code class="language-ts"><span class="hl-7">// Note, this will attempt to recover the transfer from the source chain</span><br/><span class="hl-7">// and attestation types so it may wait depending on the chain finality</span><br/><span class="hl-7">// and when the transactions were issued.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">timeout</span><span class="hl-1"> = </span><span class="hl-8">60_000</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">xfer</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">TokenTransfer</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">chain:</span><span class="hl-1"> </span><span class="hl-2">&#39;Ethereum&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">txid:</span><span class="hl-1"> </span><span class="hl-2">&#39;0x1234...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}, </span><span class="hl-4">timeout</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">dstTxIds</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">xfer</span><span class="hl-1">.</span><span class="hl-0">completeTransfer</span><span class="hl-1">(</span><span class="hl-4">dst</span><span class="hl-1">.</span><span class="hl-4">signer</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<p>Or a <code>WormholeMessageId</code> if a <code>VAA</code> is generated </p>
<pre><code class="language-ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">xfer</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">TokenTransfer</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">chain:</span><span class="hl-1"> </span><span class="hl-2">&#39;Ethereum&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">emitter:</span><span class="hl-1"> </span><span class="hl-0">toNative</span><span class="hl-1">(</span><span class="hl-2">&#39;Ethereum&#39;</span><span class="hl-1">, </span><span class="hl-4">emitterAddress</span><span class="hl-1">).</span><span class="hl-0">toUniversalAddress</span><span class="hl-1">(),</span><br/><span class="hl-1">  </span><span class="hl-4">sequence:</span><span class="hl-1"> </span><span class="hl-2">&#39;0x1234...&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">dstTxIds</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">xfer</span><span class="hl-1">.</span><span class="hl-0">completeTransfer</span><span class="hl-1">(</span><span class="hl-4">dst</span><span class="hl-1">.</span><span class="hl-4">signer</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<a id="md:concepts" class="tsd-anchor"></a><h2><a href="#md:concepts">Concepts</a></h2><p>Understanding several higher level concepts of the SDK will help in using it effectively.</p>
<a id="md:platforms" class="tsd-anchor"></a><h3><a href="#md:platforms">Platforms</a></h3><p>Every chain is its own special snowflake but many of them share similar functionality.  The <code>Platform</code> modules provide a consistent interface for interacting with the chains that share a platform.</p>
<p>Each platform can be installed separately so that dependencies can stay as minimal as possible.</p>
<a id="md:chain-context" class="tsd-anchor"></a><h3><a href="#md:chain-context">Chain Context</a></h3><p>The <code>Wormhole</code> class provides a <code>getChain</code> method that returns a <code>ChainContext</code> object for a given chain.  This object provides access to the chain specific methods and utilities.  Much of the functionality in the <code>ChainContext</code> is provided by the <code>Platform</code> methods but the specific chain may have overriden methods. </p>
<p>The ChainContext object is also responsible for holding a cached rpc client and protocol clients. </p>
<pre><code class="language-ts"><span class="hl-7">// Get the chain context for the source and destination chains</span><br/><span class="hl-7">// This is useful to grab direct clients for the protocols </span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">srcChain</span><span class="hl-1"> = </span><span class="hl-4">wh</span><span class="hl-1">.</span><span class="hl-0">getChain</span><span class="hl-1">(</span><span class="hl-4">senderAddress</span><span class="hl-1">.</span><span class="hl-4">chain</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">dstChain</span><span class="hl-1"> = </span><span class="hl-4">wh</span><span class="hl-1">.</span><span class="hl-0">getChain</span><span class="hl-1">(</span><span class="hl-4">receiverAddress</span><span class="hl-1">.</span><span class="hl-4">chain</span><span class="hl-1">);</span><br/><br/><br/><span class="hl-4">srcChain</span><span class="hl-1">.</span><span class="hl-0">parseAddress</span><span class="hl-1">(</span><span class="hl-2">&quot;0xdeadbeef...&quot;</span><span class="hl-1">) </span><span class="hl-7">// =&gt; NativeAddress&lt;&#39;Evm&#39;&gt;</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">srcChain</span><span class="hl-1">.</span><span class="hl-0">getTokenBridge</span><span class="hl-1">() </span><span class="hl-7">// =&gt; TokenBridge&lt;&#39;Evm&#39;&gt;</span><br/><span class="hl-4">srcChain</span><span class="hl-1">.</span><span class="hl-0">getRpcClient</span><span class="hl-1">() </span><span class="hl-7">// =&gt; RpcClient&lt;&#39;Evm&#39;&gt;</span>
</code><button>Copy</button></pre>
<a id="md:protocols" class="tsd-anchor"></a><h3><a href="#md:protocols">Protocols</a></h3><p>While Wormhole itself is a Generic Message Passing protocol, a number of protocols have been built on top of it to provide specific functionality. </p>
<a id="md:token-bridge" class="tsd-anchor"></a><h4><a href="#md:token-bridge">Token Bridge</a></h4><p>The most familiar protocol built on Wormhole is the Token Bridge.</p>
<p>Every chain has a <code>TokenBridge</code> protocol client that provides a consistent interface for interacting with the Token Bridge.  This includes methods to generate the transactions required to transfer tokens, as well as methods to generate and redeem attestations. </p>
<p>Using the <code>WormholeTransfer</code> abstractions is the recommended way to interact with these <code>Protocols</code> but it is possible to use them directly</p>
<pre><code class="language-ts"><span class="hl-3">import</span><span class="hl-1"> {</span><span class="hl-4">signSendWait</span><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@wormhole-foundation/connect-sdk&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// ...</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">tb</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">srcChain</span><span class="hl-1">.</span><span class="hl-0">getTokenBridge</span><span class="hl-1">() </span><span class="hl-7">// =&gt; TokenBridge&lt;&#39;Evm&#39;&gt;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">token</span><span class="hl-1"> = </span><span class="hl-2">&#39;0xdeadbeef...&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">txGenerator</span><span class="hl-1"> = </span><span class="hl-4">tb</span><span class="hl-1">.</span><span class="hl-0">createAttestation</span><span class="hl-1">(</span><span class="hl-4">token</span><span class="hl-1">) </span><span class="hl-7">// =&gt; AsyncGenerator&lt;UnsignedTransaction, ...&gt; </span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">txids</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">signSendWait</span><span class="hl-1">(</span><span class="hl-4">srcChain</span><span class="hl-1">, </span><span class="hl-4">txGenerator</span><span class="hl-1">, </span><span class="hl-4">src</span><span class="hl-1">.</span><span class="hl-4">signer</span><span class="hl-1">) </span><span class="hl-7">// =&gt; TxHash[]</span><br/>
</code><button>Copy</button></pre>
<p>Supported protocols are defined in the <a href="https://github.com/wormhole-foundation/connect-sdk/tree/develop/core/definitions/src/protocols">definitions module</a></p>
<a id="md:signers" class="tsd-anchor"></a><h3><a href="#md:signers">Signers</a></h3><p>In order to sign transactions, an object that fulfils the <code>Signer</code> interface is required.  This is a simple interface that can be implemented by wrapping a web wallet or other signing mechanism.  </p>
<pre><code class="language-ts"><span class="hl-7">// A Signer is an interface that must be provided to certain methods</span><br/><span class="hl-7">// in the SDK to sign transactions. It can be either a SignOnlySigner</span><br/><span class="hl-7">// or a SignAndSendSigner depending on circumstances. </span><br/><span class="hl-7">// A Signer can be implemented by wrapping an existing offline wallet</span><br/><span class="hl-7">// or a web wallet </span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-9">Signer</span><span class="hl-1"> = </span><span class="hl-9">SignOnlySigner</span><span class="hl-1"> | </span><span class="hl-9">SignAndSendSigner</span><span class="hl-1">;</span><br/><br/><span class="hl-7">// A SignOnlySender is for situations where the signer is not</span><br/><span class="hl-7">// connected to the network or does not wish to broadcast the</span><br/><span class="hl-7">// transactions themselves </span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-9">SignOnlySigner</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">chain</span><span class="hl-1">(): </span><span class="hl-9">ChainName</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">address</span><span class="hl-1">(): </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-7">// Accept an array of unsigned transactions and return</span><br/><span class="hl-1">    </span><span class="hl-7">// an array of signed and serialized transactions.</span><br/><span class="hl-1">    </span><span class="hl-7">// The transactions may be inspected or altered before</span><br/><span class="hl-1">    </span><span class="hl-7">// signing.</span><br/><span class="hl-1">    </span><span class="hl-7">// Note: The serialization is chain specific, if in doubt,</span><br/><span class="hl-1">    </span><span class="hl-7">// see the example implementations linked below</span><br/><span class="hl-1">    </span><span class="hl-0">sign</span><span class="hl-1">(</span><span class="hl-4">tx</span><span class="hl-1">: </span><span class="hl-9">UnsignedTransaction</span><span class="hl-1">[]): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">SignedTx</span><span class="hl-1">[]&gt;;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">// A SignAndSendSigner is for situations where the signer is</span><br/><span class="hl-7">// connected to the network and wishes to broadcast the</span><br/><span class="hl-7">// transactions themselves </span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-9">SignAndSendSigner</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">chain</span><span class="hl-1">(): </span><span class="hl-9">ChainName</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">address</span><span class="hl-1">(): </span><span class="hl-9">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-7">// Accept an array of unsigned transactions and return</span><br/><span class="hl-1">    </span><span class="hl-7">// an array of transaction ids in the same order as the  </span><br/><span class="hl-1">    </span><span class="hl-7">// UnsignedTransactions array.</span><br/><span class="hl-1">    </span><span class="hl-0">signAndSend</span><span class="hl-1">(</span><span class="hl-4">tx</span><span class="hl-1">: </span><span class="hl-9">UnsignedTransaction</span><span class="hl-1">[]): </span><span class="hl-9">Promise</span><span class="hl-1">&lt;</span><span class="hl-9">TxHash</span><span class="hl-1">[]&gt;;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>See the <a href="https://github.com/wormhole-foundation/connect-sdk/blob/develop/examples/src/helpers/signers.ts">example signers</a> for examples of how to implement a signer for a specific chain.</p>
<pre><code class="language-ts"><span class="hl-7">// Create a signer for the source and destination chains</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">sender</span><span class="hl-1">: </span><span class="hl-9">Signer</span><span class="hl-1"> =  </span><span class="hl-7">// ...</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">receiver</span><span class="hl-1">: </span><span class="hl-9">Signer</span><span class="hl-1"> = </span><span class="hl-7">// ...</span><br/>
</code><button>Copy</button></pre>
<a id="md:addresses" class="tsd-anchor"></a><h3><a href="#md:addresses">Addresses</a></h3><p>Within the Wormhole context, addresses are <a href="https://docs.wormhole.com/wormhole/blockchain-environments/evm#addresses">normalized</a> to 32 bytes and referred to in this SDK as a <code>UniversalAddresses</code>.</p>
<p>Each platform comes with an address type that understands the native address formats, unsuprisingly referred to a NativeAddress. This abstraction allows the SDK to work with addresses in a consistent way regardless of the underlying chain. </p>
<pre><code class="language-ts"><span class="hl-7">// Convert a string address to its Native address</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">ethAddr</span><span class="hl-1">: </span><span class="hl-9">NativeAddress</span><span class="hl-1">&lt;</span><span class="hl-2">&#39;Evm&#39;</span><span class="hl-1">&gt; = </span><span class="hl-0">toNative</span><span class="hl-1">(</span><span class="hl-2">&#39;Ethereum&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;0xbeef...&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">solAddr</span><span class="hl-1">: </span><span class="hl-9">NativeAddress</span><span class="hl-1">&lt;</span><span class="hl-2">&#39;Solana&#39;</span><span class="hl-1">&gt; = </span><span class="hl-0">toNative</span><span class="hl-1">(</span><span class="hl-2">&#39;Solana&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Sol1111...&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Convert a Native address to its string address</span><br/><span class="hl-4">ethAddr</span><span class="hl-1">.</span><span class="hl-0">toString</span><span class="hl-1">() </span><span class="hl-7">// =&gt; &#39;0xbeef...&#39;</span><br/><br/><span class="hl-7">// Convert a Native address to a UniversalAddress</span><br/><span class="hl-4">ethAddr</span><span class="hl-1">.</span><span class="hl-0">toUniversalAddresS</span><span class="hl-1">()</span><br/><br/><span class="hl-7">// A common type in the SDK is the `ChainAddress`. </span><br/><span class="hl-7">// A helper exists to provide a ChainAddress for a signer, or [ChainName, string address]</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">senderAddress</span><span class="hl-1">: </span><span class="hl-9">ChainAddress</span><span class="hl-1"> = </span><span class="hl-0">nativeChainAddress</span><span class="hl-1">(</span><span class="hl-4">sender</span><span class="hl-1">)     </span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">receiverAddress</span><span class="hl-1">: </span><span class="hl-9">ChainAddress</span><span class="hl-1"> = </span><span class="hl-0">nativeChainAddress</span><span class="hl-1">(</span><span class="hl-4">receiver</span><span class="hl-1">) </span>
</code><button>Copy</button></pre>
<a id="md:see-also" class="tsd-anchor"></a><h2><a href="#md:see-also">See also</a></h2><p>The tsdoc is available <a href="https://wormhole-foundation.github.io/connect-sdk/">here</a></p>
<a id="md:wip" class="tsd-anchor"></a><h2><a href="#md:wip">WIP</a></h2><p>:warning: This package is a Work in Progress so the interface may change and there are likely bugs.  Please <a href="https://github.com/wormhole-foundation/connect-sdk/issues">report</a> any issues you find. :warning:</p>
</div></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)" id="icon-chevronDown"></path></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:connect-sdk"><span>Connect SDK</span></a></li>
<li>
<ul>
<li><a href="#md:installation"><span>Installation</span></a></li>
<li><a href="#md:usage"><span>Usage</span></a></li>
<li>
<ul>
<li><a href="#md:wormhole-transfer"><span>Wormhole <wbr/>Transfer</span></a></li>
<li><a href="#md:token-transfers"><span>Token <wbr/>Transfers</span></a></li>
<li><a href="#md:native-usdc-transfers"><span>Native USDC <wbr/>Transfers</span></a></li>
<li><a href="#md:automatic-transfers"><span>Automatic <wbr/>Transfers</span></a></li>
<li><a href="#md:gateway-transfers"><span>Gateway <wbr/>Transfers</span></a></li>
<li><a href="#md:recovering-transfers"><span>Recovering <wbr/>Transfers</span></a></li></ul></li>
<li><a href="#md:concepts"><span>Concepts</span></a></li>
<li>
<ul>
<li><a href="#md:platforms"><span>Platforms</span></a></li>
<li><a href="#md:chain-context"><span>Chain <wbr/>Context</span></a></li>
<li><a href="#md:protocols"><span>Protocols</span></a></li>
<li>
<ul>
<li><a href="#md:token-bridge"><span>Token <wbr/>Bridge</span></a></li></ul></li>
<li><a href="#md:signers"><span>Signers</span></a></li>
<li><a href="#md:addresses"><span>Addresses</span></a></li></ul></li>
<li><a href="#md:see-also"><span>See also</span></a></li>
<li><a href="#md:wip"><span>WIP</span></a></li></ul></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><g id="icon-4"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g></svg><span>Connect SDK -<wbr/> v0.1.7</span></a>
<ul class="tsd-small-nested-navigation">
<li><a href="modules/_wormhole_foundation_connect_sdk.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@wormhole-<wbr/>foundation/connect-<wbr/>sdk -<wbr/> v0.1.7</span></a></li>
<li><a href="modules/_wormhole_foundation_connect_sdk_solana.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@wormhole-<wbr/>foundation/connect-<wbr/>sdk-<wbr/>solana -<wbr/> v0.1.7</span></a></li>
<li><a href="modules/_wormhole_foundation_connect_sdk_evm.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@wormhole-<wbr/>foundation/connect-<wbr/>sdk-<wbr/>evm -<wbr/> v0.1.7</span></a></li>
<li><a href="modules/_wormhole_foundation_connect_sdk_cosmwasm.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@wormhole-<wbr/>foundation/connect-<wbr/>sdk-<wbr/>cosmwasm -<wbr/> v0.1.7</span></a></li>
<li><a href="modules/_wormhole_foundation_sdk_base.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@wormhole-<wbr/>foundation/sdk-<wbr/>base -<wbr/> v0.1.7</span></a></li>
<li><a href="modules/_wormhole_foundation_sdk_definitions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-4"></use></svg><span>@wormhole-<wbr/>foundation/sdk-<wbr/>definitions -<wbr/> v0.1.7</span></a></li></ul></nav></div></div></div>
<div class="tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div></body></html>